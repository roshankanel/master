<div class="modal-dialog">
  <div class="modal-content">
    <%= form_for(:role, remote: true, url: url, method: method, html: {class: 'form-horizontal'}) do |f| %>
      <div class="modal-header">
          <h2><%= heading_prefix %> Role<%= heading_prefix == 'Edit' ? ": #{@role.name }" : '' %></h2>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
      </div>
      <%= render partial: 'layouts/flash_messages', locals: {:context => :modal}  %>
      <div class="modal-body">
        <div class="form-group required <%= @error_msg[:name].blank? ? "" : "has-error" %>">
          <%= f.label :name, class: "control-label col-md-3" %>
          <div class="col-md-7">
            <%= f.text_field :name, {autofocus: true, class: "form-control", required: true} %>
          </div>
        </div>
        <div class="form-group required <%= @error_msg[:description].blank? ? "" : "has-error" %>">
          <%= f.label :description, class: "control-label col-md-3" %>
          <div class="col-md-7">
            <%= f.text_area :description, {class: "form-control", required: true, style: "min-width: 80%"} %>
          </div>
        </div>

      </div>
      <div class="form-group">
       <div class="col-md-12 col-md-offset-3">
         <span class="help-block"><span class="mandatory">*</span> denotes required field</span>
       </div>
      </div>
      <div class="modal-footer">
        <div class="actions text-center">
          <%= f.submit submit_label, {class: "btn btn-default btn-success"} %>
          <%= f.button 'Cancel', {class: "btn btn-default", "data-dismiss" => "modal"} %>
          <% if (controller.action_name == "edit") && (!@role.has_role_been_assigned?) %>
            <%= f.button 'Delete', {id: "delete", class: "btn btn-danger", "type" => "button",
              "data-toggle" => "collapse", "data-target" => "#confirm-delete-pane"} %>
            <div id="confirm-delete-pane" class="confirm-delete-pane collapse col-md-12 text-center">
              <p>Please confirm that you want to delete Role: <%= @role.name %></p>
              <%= link_to 'Confirm Delete', role_path(@role.id),
                {method: 'delete', id: 'confirm-delete', class: 'btn btn-danger btn-success', remote: true} %>
            </div>
          <% end %>
        </div>
      </div>
    <% end %>
  </div>
</div>
